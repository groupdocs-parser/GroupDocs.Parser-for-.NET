<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:utils="clr-namespace:GroupDocs.Parser.Gui.Utils"
                    xmlns:vm="clr-namespace:GroupDocs.Parser.Gui.ViewModels">
    <DataTemplate DataType="{x:Type vm:TableViewModel}">
        <Canvas
            Width="{Binding Width}"
            Height="{Binding Height}">
            <TextBlock
                Canvas.Left="0"
                Canvas.Bottom="-18"
                Background="#86AF"
                Padding="3,0"
                Text="{Binding Name}" />
            <Rectangle
                Canvas.Left="0"
                Canvas.Top="0"
                Width="{Binding Width}"
                Height="{Binding Height}"
                Cursor="SizeAll"
                Tag="0"
                utils:MouseDownBehavior.MouseDownCommand="{Binding MouseDownCommand}"
                utils:MouseMoveBehavior.MouseMoveCommand="{Binding MouseMoveCommand}"
                utils:MouseUpBehavior.MouseUpCommand="{Binding MouseUpCommand}"
                StrokeThickness="{Binding StrokeThickness}"
                Stroke="CadetBlue"
                Fill="#8CCC" />
            <Rectangle
                Canvas.Left="-6"
                Canvas.Top="-6"
                Width="6"
                Height="6"
                Cursor="SizeNWSE"
                Tag="1"
                Visibility="{Binding Visibility}"
                utils:MouseDownBehavior.MouseDownCommand="{Binding MouseDownCommand}"
                utils:MouseMoveBehavior.MouseMoveCommand="{Binding MouseMoveCommand}"
                utils:MouseUpBehavior.MouseUpCommand="{Binding MouseUpCommand}"
                Fill="#679FFA" />
            <Rectangle
                Canvas.Top="-6"
                Canvas.Right="-6"
                Width="6"
                Height="6"
                Cursor="SizeNESW"
                Tag="2"
                Visibility="{Binding Visibility}"
                utils:MouseDownBehavior.MouseDownCommand="{Binding MouseDownCommand}"
                utils:MouseMoveBehavior.MouseMoveCommand="{Binding MouseMoveCommand}"
                utils:MouseUpBehavior.MouseUpCommand="{Binding MouseUpCommand}"
                Fill="#679FFA" />
            <Rectangle
                Canvas.Right="-6"
                Canvas.Bottom="-6"
                Width="6"
                Height="6"
                Cursor="SizeNWSE"
                Tag="3"
                Visibility="{Binding Visibility}"
                utils:MouseDownBehavior.MouseDownCommand="{Binding MouseDownCommand}"
                utils:MouseMoveBehavior.MouseMoveCommand="{Binding MouseMoveCommand}"
                utils:MouseUpBehavior.MouseUpCommand="{Binding MouseUpCommand}"
                Fill="#679FFA" />
            <Rectangle
                Canvas.Left="-6"
                Canvas.Bottom="-6"
                Width="6"
                Height="6"
                Cursor="SizeNESW"
                Tag="4"
                Visibility="{Binding Visibility}"
                utils:MouseDownBehavior.MouseDownCommand="{Binding MouseDownCommand}"
                utils:MouseMoveBehavior.MouseMoveCommand="{Binding MouseMoveCommand}"
                utils:MouseUpBehavior.MouseUpCommand="{Binding MouseUpCommand}"
                Fill="#679FFA" />
            <Button
                Canvas.Left="-13"
                Canvas.Top="{Binding HalfHeight}"
                Style="{StaticResource CanvasButtonStyle}"
                Cursor="Hand"
                VerticalContentAlignment="Center"
                HorizontalContentAlignment="Center"
                Visibility="{Binding Visibility}"
                Command="{Binding AddSeparatorCommand}"
                BorderThickness="0"
                Background="Transparent">
                <Button.Content>
                    <Viewbox>
                        <Path
                            Data="M 0 0 h 20 v -20 h 10 v 20 h 20 v 10 h -20 v 20 h -10 v -20 h -20 z"
                            Fill="#679FFA" />
                    </Viewbox>
                </Button.Content>
            </Button>
            <ItemsControl
                Canvas.Left="0"
                Canvas.Top="0"
                ItemsSource="{Binding Separators}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <Canvas
                            Background="Transparent"
                            Width="0"
                            Height="0" />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemContainerStyle>
                    <Style TargetType="ContentPresenter">
                        <Setter Property="Canvas.Left" Value="{Binding Position}" />
                        <Setter Property="Canvas.Top" Value="0" />
                    </Style>
                </ItemsControl.ItemContainerStyle>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Canvas
                            Width="0"
                            Height="0">
                            <Rectangle
                                Canvas.Left="-1"
                                Canvas.Top="0"
                                Width="4"
                                Height="{Binding Height}"
                                Cursor="SizeWE"
                                utils:MouseDownBehavior.MouseDownCommand="{Binding MouseDownCommand}"
                                utils:MouseMoveBehavior.MouseMoveCommand="{Binding MouseMoveCommand}"
                                utils:MouseUpBehavior.MouseUpCommand="{Binding MouseUpCommand}"
                                Fill="#01FFFFFF" />
                            <Rectangle
                                Canvas.Left="0"
                                Canvas.Top="0"
                                Width="2"
                                Height="{Binding Height}"
                                Cursor="SizeWE"
                                utils:MouseDownBehavior.MouseDownCommand="{Binding MouseDownCommand}"
                                utils:MouseMoveBehavior.MouseMoveCommand="{Binding MouseMoveCommand}"
                                utils:MouseUpBehavior.MouseUpCommand="{Binding MouseUpCommand}"
                                Fill="#679FFA" />
                            <Button
                                Canvas.Left="-5"
                                Canvas.Top="-13"
                                Style="{StaticResource CanvasButtonStyle}"
                                Cursor="Hand"
                                VerticalContentAlignment="Center"
                                HorizontalContentAlignment="Center"
                                Visibility="{Binding Visibility}"
                                Command="{Binding RemoveCommand}"
                                BorderThickness="0"
                                Background="Transparent">
                                <Button.Content>
                                    <Viewbox>
                                        <Path
                                            Data="M 10 0 l 15 15 l 15 -15 l 10 10 l -15 15 l 15 15 l -10 10 l -15 -15 l -15 15 l -10 -10 l 15 -15 l -15 -15 z"
                                            Fill="#679FFA" />
                                    </Viewbox>
                                </Button.Content>
                            </Button>
                        </Canvas>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </Canvas>
    </DataTemplate>
</ResourceDictionary>
